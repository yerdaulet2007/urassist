<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ò–ò –ø–æ–º–æ—â–Ω–∏–∫ | –Æ—Ä–ê—Å—Å–∏—Å—Ç</title>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
  

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <style>
    .topbar {
      background-color: #800000; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º */
      color: white;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .topbar h1 {
      margin: 0;
      font-size: 1.5rem;
      color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–Ω—ã–π */
    }

    nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 0.5rem;
    }

    nav ul li {
      border-bottom: 2px solid transparent; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–µ–∑ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è */
    }

    nav ul li a {
      color: white; /* –¢–µ–∫—Å—Ç –≥–∏–ø–µ—Ä—Å—Å—ã–ª–æ–∫ —á–µ—Ä–Ω—ã–π */
      text-decoration: none;
      font-weight: bold;
      padding: 5px 0; /* –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ–±–≤–æ–¥–∫–∏ */
    }

    nav ul li a:hover {
      color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –±–µ–ª—ã–π */
      border-bottom: 2px solid white; /* –ë–µ–ª–∞—è –ª–∏–Ω–∏—è –ø–æ–¥ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–æ–π */
    }

    .calculator-container {
      max-width: 600px;
      background: white;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    .calculator-container h2 {
      color: #800000;
      margin-bottom: 1rem;
    }

    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }

    input[type="number"] {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background-color: #800000;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #a00000;
    }

    .result {
      margin-top: 1.5rem;
      padding: 1rem;
      background-color: #f0f0f0;
      border-left: 5px solid #800000;
    }

    .footer {
      background-color: #800000;
      color: white;
      text-align: center;
      padding: 1rem;
      margin-top: 2rem;
    }

    .radio-group {
      display: flex;
      gap: 2rem;
      margin-bottom: 1rem;
    }

    .radio-group label {
      font-weight: normal;
      display: flex;
      align-items: center;
    }

    .radio-group input {
      margin-right: 0.5rem;
    }

    #ip-esf-checkbox {
      display: none; /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç */
    }
    form {
  max-width: 600px;
  margin: 0 auto;
  background-color: #fdfdfd;
  padding: 20px;
  border-radius: 10px;
}

form label {
  font-weight: bold;
  margin-top: 1rem;
  display: block;
}

form input[type="text"],
form input[type="date"],
form select,
form textarea {
  width: 100%;
  max-width: 100%;
  padding: 8px;
  margin: 5px 0 15px 0;
  border-radius: 5px;
  border: 1px solid #ccc;
  font-family: inherit;
  font-size: 1rem;
  box-sizing: border-box;
}

form textarea {
  resize: vertical;
}

.radio-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: 0.5rem 0 1rem;
}

.radio-row input[type="radio"] {
  margin-right: 0.3rem;
}

form button[type="submit"] {
  background-color: #800000;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 5px;
  font-size: 1rem;
  cursor: pointer;
}

form button[type="submit"]:hover {
  background-color: #a00000;
}
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <h1>–Æ—Ä–ê—Å—Å–∏—Å—Ç</h1>
      <div class="language-switcher">
        <button onclick="setLanguage('kz')">“ö–ê–ó</button>
        <button onclick="setLanguage('ru')">–†–£–°</button>
        <button onclick="setLanguage('en')">ENG</button>
      </div>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="ai.html">–ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</a></li>
        <li><a href="calculator.html">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</a></li>
        <li><a href="articles.html">–°—Ç–∞—Ç—å–∏</a></li>
        <li><a href="about.html">–û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <section class="consultation">
        <h2>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞</h2>
        <div class="consultation-options">
            <button class="consultation-button" data-section="registration">üìÑ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ò–ü / –¢–û–û</button>
            <button class="consultation-button" data-section="fines">üí∏ –®—Ç—Ä–∞—Ñ—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</button>
            <button class="consultation-button" data-section="legislation">üìç –ú–µ—Å—Ç–Ω–æ–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ</button>
            <button class="consultation-button" data-section="rent">üè¢ –ê—Ä–µ–Ω–¥–∞ –∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å</button>
            <button class="consultation-button" data-section="protection">üõ° –ó–∞—â–∏—Ç–∞ –ø—Ä–∞–≤ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è</button>
            <button class="consultation-button" data-section="custom-query">üìù –°–≤–æ–π –∑–∞–ø—Ä–æ—Å</button>
        </div>
        
        <div class="form-container" id="formContainer"></div>
        <div id="chat-box" class="chat-container">
          <!-- –û—Ç–≤–µ—Ç—ã –æ—Ç –±–æ—Ç–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
        </div>
        
    </section>
</main>

<footer>
    <p>¬© 2025 –Æ—Ä–ê—Å—Å–∏—Å—Ç. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script>
    function askAI() {
      const userMessage = document.getElementById("userInput").value;
      
      console.log("–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:", userMessage); // <--- –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

      fetch("https://urassist.onrender.com/ask", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({ message: userMessage })
      })
        .then(response => response.json())
        .then(data => {
          console.log("–û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:", data); // <--- —Ç–æ–∂–µ –ª–æ–≥
          document.getElementById("response").innerText = data.reply || data.error;
        })
        .catch(error => {
          console.error("–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:", error); // <--- –ª–æ–≥ –æ—à–∏–±–∫–∏
          document.getElementById("response").innerText = "–û—à–∏–±–∫–∞: " + error.message;
        });
    }

  </script>

</body>
</html>